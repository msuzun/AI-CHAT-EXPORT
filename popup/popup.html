<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Chat Export</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="topbar">
      <span class="brand">AI Chat Export</span>
      <button id="openSettingsBtn" class="link-btn" title="Ayarlar">Ayarlar</button>
    </div>
    <div id="detecting" class="state visible">
      <div class="spinner"></div>
      <p>Sayfa tespit ediliyor...</p>
    </div>
    <div id="unsupported" class="state">
      <p class="message">Bu sayfa desteklenmiyor.</p>
      <p id="unsupportedHint" class="hint">ChatGPT, Gemini, DeepSeek veya Claude chat sayfasinda olmalisiniz.</p>
    </div>
    <div id="confirm" class="state">
      <p class="message" id="confirmText"></p>
      <label id="scopeLabel" class="format-label">Kapsam:</label>
      <select id="scopeSelect" class="format-select">
        <option value="active">Sadece aktif chat</option>
        <option value="all">Tum chatleri export et</option>
      </select>
      <label id="messageFilterLabel" class="format-label">Mesaj filtresi:</label>
      <select id="messageFilterSelect" class="format-select">
        <option value="all">Hepsi</option>
        <option value="user">Sadece Kullanici</option>
        <option value="assistant">Sadece Asistan</option>
      </select>
      <label id="labelLanguageLabel" class="format-label">Etiket dili:</label>
      <select id="labelLanguageSelect" class="format-select">
        <option value="tr">Turkce (Kullanici/Asistan)</option>
        <option value="en">English (User/Assistant)</option>
      </select>
      <label id="dateStampLabel" class="format-label">Tarih damgasi:</label>
      <select id="dateStampModeSelect" class="format-select">
        <option value="none">Yok</option>
        <option value="filename">Dosya adinda</option>
        <option value="content">Icerikte</option>
        <option value="both">Her ikisi</option>
      </select>
      <label id="dateRangeLabel" class="format-label">Zaman araligi:</label>
      <div class="date-range-row">
        <input id="dateStartInput" class="format-select" type="date">
        <input id="dateEndInput" class="format-select" type="date">
      </div>
      <label id="syntaxHighlightLabel" class="check-row">
        <input id="syntaxHighlightToggle" type="checkbox" checked>
        <span>Kod renklendirme (PDF/HTML)</span>
      </label>

      <div class="tab-row">
        <button id="exportTabBtn" class="tab-btn active" type="button">Export</button>
        <button id="clipboardTabBtn" class="tab-btn" type="button">Panoya Kopyala</button>
      </div>

      <div id="exportPanel" class="panel visible">
        <label id="exportFormatLabel" class="format-label">Kaydetme bicimi:</label>
        <select id="formatSelect" class="format-select">
          <option value="pdf">PDF</option>
          <option value="markdown">Markdown (.md)</option>
          <option value="word">Word (.doc)</option>
          <option value="html">HTML (.html)</option>
          <option value="txt">Plain Text (.txt)</option>
        </select>
        <button id="exportBtn" class="btn btn-primary">Aktar</button>
      </div>

      <div id="clipboardPanel" class="panel">
        <label id="clipboardFormatLabel" class="format-label">Panoya kopyalama bicimi:</label>
        <select id="clipboardFormatSelect" class="format-select">
          <option value="markdown">Markdown</option>
          <option value="txt">Plain Text</option>
        </select>
        <button id="copyBtn" class="btn btn-secondary">Panoya Kopyala</button>
      </div>
    </div>
    <div id="exporting" class="state">
      <div class="spinner"></div>
      <p id="exportingText">Olusturuluyor...</p>
      <p class="hint">Kaydetmek istediginiz konumu sececeksiniz.</p>
    </div>
    <div id="success" class="state">
      <p class="message" style="color:#059669;">Kaydetmek istediginiz yeri secin.</p>
    </div>
    <div id="error" class="state">
      <p class="message error"></p>
    </div>
  </div>
  <div id="pdfContainer" style="position:fixed;top:0;left:0;width:794px;min-height:1122px;background:#fff;color:#000;opacity:0.01;z-index:-1;overflow:visible;"></div>
  <script src="pdf-template.js"></script>
  <script src="exporters.js"></script>
  <script src="../lib/html2pdf.bundle.min.js"></script>
  <script src="popup.js"></script>
</body>
</html>
